// var nock = require('nock');

// nock('http://staging1.www.gopher.email:80', {"encodedQueryParams":true})
//     .post('/api/v2/reminders/', "timezone=America%2FLos_Angeles&source%5Bfrom%5D=esweetland%40gmail.com&source%5Bsubject%5D=Capture%20requests&source%5Bbody%5D=%3Cdiv%20dir%3D%22ltr%22%3E%3Cbr%3E%3C%2Fdiv%3E%0A&source%5Btype%5D=api&source%5Brecipient_server%5D=1sec-remind%2Bme%2B1sec%40gopher.email")
//     .reply(201, {"status":"success","type":"reminder_created","extension":[{"flag":"remind","webhook_response":[]}],"followup":{"valid":true,"created":1501872707,"timezone":"America/Los_Angeles","created_friendly":"Fri, August 4th 2017 11:51am PDT","due":1501872708,"due_friendly":"Fri, August 4th 2017 11:51am PDT","format":"1sec-remind+me+1sec","completed":false,"completed_on":"","completed_on_friendly":"","tags":["me","1sec"],"suffix_flags":["remind"],"extensions":{"sms":false,"task":false,"recurring":false,"response_detection":false},"user_date_format":"12h","followup_id":1535,"source":{"type":"email","subject":"Capture requests","body":"<div dir=\"ltr\"><br /></div><br />","body_text":"    ","from":"esweetland@gmail.com","external_recipients":[],"related_contacts":[],"email_method":"to"}}}, [ 'Cache-Control',
//     'no-cache',
//     'Content-Type',
//     'application/json',
//     'Date',
//     'Fri, 04 Aug 2017 18:51:46 GMT',
//     'Server',
//     'Apache',
//     'Content-Length',
//     '839',
//     'Connection',
//     'Close' ]);


module.exports.onCommandEvent = { headers: 
   { Host: 'reminder.ngrok.io',
     'X-FUT-Timestamp': '1502187433',
     'X-FUT-Signature': '55b0384d41167e087135a58fcd4c17a10c50d598c1dbcd466e12b8cf618476df',
     'Content-Type': 'application/json',
     'User-Agent': 'Guzzle/3.9.3 curl/7.40.0 PHP/5.6.25',
     'Content-Length': 4467,
     'X-Forwarded-For': '34.229.166.166' },
  path: '/onCommand',
  pathParameters: null,
  requestContext: 
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'dev',
     requestId: 'offlineContext_requestId_',
     identity: 
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Guzzle/3.9.3 curl/7.40.0 PHP/5.6.25',
        user: 'offlineContext_user' },
     authorizer: { principalId: 'offlineContext_authorizer_principalId' },
     resourcePath: '/onCommand',
     httpMethod: 'POST' },
  resource: '/onCommand',
  httpMethod: 'POST',
  queryStringParameters: null,
  stageVariables: null,
  body: '{"webhook":{"name":"onCommand","timestamp":1502187433},"extension":{"private_data":{"fut_access_token":"a58c5433805328edf355cbc2158766d0cd972797","oncommand_user_key":"new value"}},"user":{"email":"esweetland@gmail.com","name":"Reilly Sweetland","timezone":"America/Los_Angeles","preferred_date_format":"D, F jS Y g:ia T","confirmations":true,"postponeTimes":["1h","2h","3h-r","4h-r","5h-r","1h-sms","1h-en+tag2","1h-en+newTag"],"defaultDailyReminderTime":"6","disableMailtoLinks":false},"params":["me","1sec"],"flag":"remind_dev","command":"remind_dev.me.1sec","followup":{"source":{"recipient":"remind_dev.me.1sec@staging1.gopher.email","subject":"fdsa","body":"<div dir=\\"ltr\\">fdsa</div>\\n","body_text":"fdsa\\n","from":"esweetland@gmail.com","external_recipients":[],"related_contacts":[],"email_method":"to","headers":{"return-path":"<esweetland@gmail.com>","received":["from mail-pg0-f54.google.com (mail-pg0-f54.google.com [74.125.83.54]) by inbound-smtp.us-east-1.amazonaws.com with SMTP id s9ucd88mmjh07npmi6mv4fc113kohhikc55dhpg1 for remind_dev.me.1sec@staging1.gopher.email; Tue, 08 Aug 2017 10:17:11 +0000 (UTC)","by mail-pg0-f54.google.com with SMTP id y129so13043086pgy.4 for <remind_dev.me.1sec@staging1.gopher.email>; Tue, 08 Aug 2017 03:17:11 -0700 (PDT)","by 10.100.143.205 with HTTP; Tue, 8 Aug 2017 03:17:09 -0700 (PDT)"],"x-ses-spam-verdict":"pass","x-ses-virus-verdict":"pass","received-spf":"pass (spfCheck: domain of _spf.google.com designates 74.125.83.54 as permitted sender) client-ip=74.125.83.54; envelope-from=esweetland@gmail.com; helo=mail-pg0-f54.google.com;","authentication-results":"amazonses.com; spf=pass (spfCheck: domain of _spf.google.com designates 74.125.83.54 as permitted sender) client-ip=74.125.83.54; envelope-from=esweetland@gmail.com; helo=mail-pg0-f54.google.com; dkim=pass header.i=@gmail.com;","x-ses-receipt":"AEFBQUFBQUFBQUFGZGFHbEcwOUZuRUZlaE5ZZ1NwQ2NWR2t2OFVuMWlOOUF1RTlxSFNlVXZEZnJvazlya0IwTTFJRGUvaFhBaXdOUVZTM1RyWVhuK1Y2Wk1tV2pYL0Y5U0VqY3ZOeS9NemRaZHZLaW9nNTFnUjVaejdqUGFHbDVUcis1eldQMUFtUGF3S3ZqU2xNclRRejhmaXh4b3NJcjZQU2U0U3dNMHU4Zk03MkZFdnBNZ04vYkQrTGlCN0Y5aUVnVG0xUUxoRmd3Z0tmRmVudXI4bnZkMU81cGFHd3ZkOHRMdmtxbndvb3V3RDJrOXF5K0ZJNGZZMFEzZnRIT2JkVTFxNkRNZ3BkQUVDeWNhM1FIckl5enJyQ3A3di9Edg==","x-ses-dkim-signature":"v=1; a=rsa-sha256; q=dns/txt; c=relaxed/simple; s=224i4yxa5dv7c2xz3womw6peuasteono; d=amazonses.com; t=1502187431; h=X-SES-RECEIPT:MIME-Version:From:Date:Message-ID:Subject:To:Content-Type; bh=HK+o4/g7EE4U7wsmYQ0JRXxBy64aTkKP6gfNBVGWsAY=; b=XclP+msmgUEU/QV7m8ta6LZ7bO5LGh86TlA0+JXhQxaj8AJseDhtrE3qHbN3iSPL XTLT58oE/lQ5H7+8jldwItm+ZmKnu4b8ezlfDdlbV26C9NmU/Kkkof/EVFmjt7vIT7e EIMM6UFQLE/LEGW17/yNxKC0uYwJiHeKbxqpQQCE=","dkim-signature":"v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025; h=mime-version:reply-to:from:date:message-id:subject:to; bh=HK+o4/g7EE4U7wsmYQ0JRXxBy64aTkKP6gfNBVGWsAY=; b=kdxT5MTXz+Vsb2tlkfJtaiVZU60mZZ9hLHmmw7Z5bBNs+9mGd4wjMYYjguUWUwnB1v Cj9reAipoUtNUFdj9loYQSOXqnHeOdgQtg7JLCT+4Tn+VGTeZYHFcXuSyx6Ih9aLH+01 td668f6emME50MwmbuIGW1VsTfapShWOMeFoOHFuJG15PvJv4W0e/SA7jDEieFsUVY8J qz9FIDpfD9reTmC8KhDnAPZ+1JWfrFImaHwQrXyDd0fIXG0vcRvqOd6wfybWIXKXeKb5 9eFSB6xVXj/p79b4T47NOxHsu+SGqtzpdqNOgumoBTkSagFMUz3ZTl9m4p7DgfYjJCk3 +m2A==","x-google-dkim-signature":"v=1; a=rsa-sha256; c=relaxed/relaxed; d=1e100.net; s=20161025; h=x-gm-message-state:mime-version:reply-to:from:date:message-id :subject:to; bh=HK+o4/g7EE4U7wsmYQ0JRXxBy64aTkKP6gfNBVGWsAY=; b=nMucoqqLtpnJ6FDAwxY5qHRGSioYLI6svu6jH2FABnvPBbw8t/yx9zOmGB6sC8OJwt W0I8wo5e//GZlkxOzJUVWehyHmuPy1H+DusX9+PCymLD0Oa5yJkngTWQz8sOt/sRmCH6 kXUi+mBzvL16/rW9G84i2F2qy1X2Zbv58lRTOU7mNae8rEVqkZm4e9I6s7R2dALL11uX zB/exWyn9QsmGHmZt7rzH8aV96iHDknYjlvhf4a9zIT8L8UHDvJDGPgk1WbrfaJckMSf r2ga0/37osaM+J0L5PLkLMThDJ8qnOfp+TyRRSkc0Qdxq4AVK7MPCFRZ6ObbBht5V13O JVew==","x-gm-message-state":"AHYfb5gQ4k/n0NUpuN1OFWKgyZxA+UmnNa9A95bGHAufI/TI6K7hFJPM N6pzyUYENeTvt7KlvGKSMr2en+jw7HfC","x-received":"by 10.98.160.131 with SMTP id p3mr3839408pfl.236.1502187430097; Tue, 08 Aug 2017 03:17:10 -0700 (PDT)","mime-version":"1.0","reply-to":"esweetland@gmail.com","from":"Reilly Sweetland <esweetland@gmail.com>","date":"Tue, 8 Aug 2017 03:17:09 -0700","message-id":"<CAEJ2LrM8ZJ+PrVts4C+wHGNCutE76dfiYY58ZNMh1XfNTRBrOw@mail.gmail.com>","subject":"fdsa","to":"remind_dev.me.1sec@staging1.gopher.email","content-type":"multipart/alternative; boundary=\\"001a1141387c283af105563b44dc\\"","x-ses-dkim-verdict":"pass","x-ses-spf-verdict":"pass"}}}}',
  isOffline: true };
  

module.exports.onValidateCommandFormat = {
  headers:
   { Host: 'reminder.ngrok.io',
     'X-FUT-Timestamp': '1501886730',
     'X-FUT-Signature': '19e82f2a799f41d9ab26202aee796ed1ea61aafc245683c0eba439802239e9f7',
     'Content-Type': 'application/json',
     'User-Agent': 'Guzzle/3.9.3 curl/7.40.0 PHP/5.6.25',
     'Content-Length': 570,
     'X-Forwarded-For': '52.54.164.46' },
  path: '/onValidateCommandFormat',
  pathParameters: null,
  requestContext:
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'dev',
     requestId: 'offlineContext_requestId_',
     identity:
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Guzzle/3.9.3 curl/7.40.0 PHP/5.6.25',
        user: 'offlineContext_user' },
     authorizer: { principalId: 'offlineContext_authorizer_principalId' },
     resourcePath: '/onValidateCommandFormat',
     httpMethod: 'POST' },
  resource: '/onValidateCommandFormat',
  httpMethod: 'POST',
  queryStringParameters: null,
  stageVariables: null,
  body: '{"webhook":{"name":"onValidateCommandFormat","timestamp":1501886730},"extension":{"private_data":{"fut_access_token":"74b2c67fdadcf156343d2eeede989628428b6e95","confirmations_off":1,"default_command":"remind.me.1day"}},"user":{"email":"esweetland@gmail.com","name":"Reilly Sweetland","timezone":"America/Los_Angeles","preferred_date_format":"D, F jS Y g:ia T","confirmations":true,"postponeTimes":["1h","2h","3h-r","4h-r","5h-r","1h-sms","1h-en+tag2","1h-en+newTag"],"defaultDailyReminderTime":"6","disableMailtoLinks":false},"timezone":null,"command":"remind.me.3days"}',
  isOffline: true };


  module.exports.onRequestOptions = {
    headers:
   { Host: 'reminder.ngrok.io',
     'X-FUT-Timestamp': '1501887435',
     'X-FUT-Signature': 'e90234f025738c4be778b99e54e5d6ffba99498966c8e3e87bdec0df4be9af99',
     'Content-Type': 'application/json',
     'User-Agent': 'Guzzle/3.9.3 curl/7.40.0 PHP/5.6.25',
     'Content-Length': 554,
     'X-Forwarded-For': '52.54.164.46' },
  path: '/onRequestOptions',
  pathParameters: null,
  requestContext:
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'dev',
     requestId: 'offlineContext_requestId_',
     identity:
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Guzzle/3.9.3 curl/7.40.0 PHP/5.6.25',
        user: 'offlineContext_user' },
     authorizer: { principalId: 'offlineContext_authorizer_principalId' },
     resourcePath: '/onRequestOptions',
     httpMethod: 'POST' },
  resource: '/onRequestOptions',
  httpMethod: 'POST',
  queryStringParameters: null,
  stageVariables: null,
  body: '{"webhook":{"name":"onRequestOptions","timestamp":1501887435},"extension":{"private_data":{"fut_access_token":"74b2c67fdadcf156343d2eeede989628428b6e95","confirmations_off":1,"default_command":"remind.me.1day"}},"user":{"email":"esweetland@gmail.com","name":"Reilly Sweetland","timezone":"America/Los_Angeles","preferred_date_format":"D, F jS Y g:ia T","confirmations":true,"postponeTimes":["1h","2h","3h-r","4h-r","5h-r","1h-sms","1h-en+tag2","1h-en+newTag"],"defaultDailyReminderTime":"6","disableMailtoLinks":false},"timezone":null,"command":"remind"}',
  isOffline: true }

  // Standard replyto example to turn off notifications
  module.exports.onAction = { headers:
   { Host: 'reminder.ngrok.io',
     'X-FUT-Timestamp': '1501902077',
     'X-FUT-Signature': 'd7c5e79a62328cfc8828fa57b812dfb9f7c7183142fecfb1f11d9433e9c8b614',
     'Content-Type': 'application/json',
     'User-Agent': 'Guzzle/3.9.3 curl/7.40.0 PHP/5.6.25',
     'Content-Length': 4474,
     'X-Forwarded-For': '52.54.164.46' },
  path: '/onAction',
  pathParameters: null,
  requestContext:
   { accountId: 'offlineContext_accountId',
     resourceId: 'offlineContext_resourceId',
     apiId: 'offlineContext_apiId',
     stage: 'dev',
     requestId: 'offlineContext_requestId_',
     identity:
      { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
        accountId: 'offlineContext_accountId',
        cognitoIdentityId: 'offlineContext_cognitoIdentityId',
        caller: 'offlineContext_caller',
        apiKey: 'offlineContext_apiKey',
        sourceIp: '127.0.0.1',
        cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
        cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
        userArn: 'offlineContext_userArn',
        userAgent: 'Guzzle/3.9.3 curl/7.40.0 PHP/5.6.25',
        user: 'offlineContext_user' },
     authorizer: { principalId: 'offlineContext_authorizer_principalId' },
     resourcePath: '/onAction',
     httpMethod: 'POST' },
  resource: '/onAction',
  httpMethod: 'POST',
  queryStringParameters: null,
  stageVariables: null,
  body: '{"webhook":{"name":"onAction","timestamp":1501902077},"extension":{"private_data":{"fut_access_token":"74b2c67fdadcf156343d2eeede989628428b6e95","confirmations_off":1,"default_command":"remind.me.1day"}},"user":{"email":"esweetland@gmail.com","name":"Reilly Sweetland","timezone":"America/Los_Angeles","preferred_date_format":"D, F jS Y g:ia T","confirmations":true,"postponeTimes":["1h","2h","3h-r","4h-r","5h-r","1h-sms","1h-en+tag2","1h-en+newTag"],"defaultDailyReminderTime":"6","disableMailtoLinks":false},"task":null,"action_data":{"action":"notifications.off","subject":"Hit Send to Turn off Confirmation Emails","body":"<div dir=\\"ltr\\">This is an email-action. The email address tell us what to do</div>\\n","source":{"return-path":"<esweetland@gmail.com>","received":["from mail-pg0-f49.google.com (mail-pg0-f49.google.com [74.125.83.49]) by inbound-smtp.us-east-1.amazonaws.com with SMTP id uemvc5opb8rehg2hiss5qr78kl22a6k7eftmilo1 for a+notifications.off+u.2+remind+d62199@staging1.gopher.email; Sat, 05 Aug 2017 03:01:10 +0000 (UTC)","by mail-pg0-f49.google.com with SMTP id l64so14314537pge.5 for <a+notifications.off+u.2+remind+d62199@staging1.gopher.email>; Fri, 04 Aug 2017 20:01:10 -0700 (PDT)","by 10.100.169.77 with HTTP; Fri, 4 Aug 2017 20:00:49 -0700 (PDT)"],"x-ses-spam-verdict":"pass","x-ses-virus-verdict":"pass","received-spf":"pass (spfCheck: domain of _spf.google.com designates 74.125.83.49 as permitted sender) client-ip=74.125.83.49; envelope-from=esweetland@gmail.com; helo=mail-pg0-f49.google.com;","authentication-results":"amazonses.com; spf=pass (spfCheck: domain of _spf.google.com designates 74.125.83.49 as permitted sender) client-ip=74.125.83.49; envelope-from=esweetland@gmail.com; helo=mail-pg0-f49.google.com; dkim=pass header.i=@gmail.com;","x-ses-receipt":"AEFBQUFBQUFBQUFFWExBS0poUzF3RGlQMmpxK1U2blR5NEtrZytONXZhQ21kMkxrb09wZVJNZGVoeEVWUmZPZkxrRHo1VTRkNGJEZ1QxR2NHaTRLSGFOM2Y2UWxmc0ZDY1dKdnd6TTg1MnY2NU1zeGRVWWJGL0YvaUFVZmR1U2J1UzRSVmVQamVpaGw3dTAvbjFSQXpqbzl0ejNxNlU2cUdDcWZUdml6MXMwM2VPVkdlKytKR1l1Nm9kV0x6cEgybW8yTjh3Z3N0NFZCNnF2T3dFVDZSWHB5K3hpMDU1aHg0ZXp4QytERlo5VkhEdXRoanJNMU5TWEVKQ1FwaDZGUHhNNC83V3J3ek9yZWQrOHJjNDU3SW5jU2t2WmRLdmQ2Mw==","x-ses-dkim-signature":"v=1; a=rsa-sha256; q=dns/txt; c=relaxed/simple; s=224i4yxa5dv7c2xz3womw6peuasteono; d=amazonses.com; t=1501902071; h=X-SES-RECEIPT:MIME-Version:From:Date:Message-ID:Subject:To:Content-Type; bh=3+toG2evJu+Xxz0PpBpF1GaVKgloVN5ifFfdJfJ0oMw=; b=pBJ5MvP6NpwKbqKg8tiA1hmyMa5JJb0OzDerrBoblhgIKb5j35USFYPq5k4C7qf6 FXJ2n7OXGXzt3FZ2OvgYOLFQQBC5978JtB3hCDEJqXVWwh3OysvskOCyFnqLcUP0vTB P/IeRrfPhz+rD9YebpJ9UPubPXhilgVx96ENvbuU=","dkim-signature":"v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025; h=mime-version:reply-to:from:date:message-id:subject:to; bh=3+toG2evJu+Xxz0PpBpF1GaVKgloVN5ifFfdJfJ0oMw=; b=u/HKIt1rY9wmjoOj1LjKMFMvmjlKro1/t1t/VDoenu2HJ84QrsF6uYbdunmb5Z8/An rVqqFzRe5pMWksjQYDygUWPV2PCOVQPGYGbHDBVlvCMS4cpDGg1/kE7pYuypqP3dmPLd uHjFoBNpYsTe6kXK8gwEtePhwL01tYEIO3aNoLhFnFCsy6+S5lPcH8VfktzaVpvsnCF3 HC+mc8KPujaLOl2RHhPN5EyzaZIHTd+oAzwS4r7LiQV5iJpUuIoDwm0xdv6uOj1uQHr/ xGm0RFhxDQ7HKUcNC3VLiO2TLtn+RTlvS5jxgQcljsZY3CaLqpJvQgGinOnxXn0DErjh k8fw==","x-google-dkim-signature":"v=1; a=rsa-sha256; c=relaxed/relaxed; d=1e100.net; s=20161025; h=x-gm-message-state:mime-version:reply-to:from:date:message-id :subject:to; bh=3+toG2evJu+Xxz0PpBpF1GaVKgloVN5ifFfdJfJ0oMw=; b=k4BuLn85RJT00SorfK4+f/r2SiBSbv3cWQ+DXQRLxrB7QEsV6qdXQ053ZgQyIobjy/ +1SEdlalH/JWax+0rl0Pyw8J9twYr3hN3INsm+xaIcgZJxbKpgXdds0WeZxMjacUrLJ4 1CHbhXMjHazuYjv3k9ZH0b5ebxqDCzL9wqK/IZO9WabAkolqntVyjcq6joczTRHmUtzb G4xKl1U3UNPbzluSgQNE8LgyUWVKjwdEHhOtPb75FUBnFEMX6pPygosDoRPfWHjO6ip3 0e0l85JXBIKJT1gz3rCadquXLjKTY/0MeaLFvWP/r7tYKrE/m8Z/THJxJg1wbyQKaVlJ HOMw==","x-gm-message-state":"AIVw113njuws4PuwGYLbT8HndahQj8lw6hUmB7BvJ7B6QqYkMJaKma30 whCTkTS88srgyn/2jubF1mWGIOPr/ezI","x-received":"by 10.98.160.131 with SMTP id p3mr4558489pfl.236.1501902069675; Fri, 04 Aug 2017 20:01:09 -0700 (PDT)","mime-version":"1.0","reply-to":"esweetland@gmail.com","from":"Reilly Sweetland <esweetland@gmail.com>","date":"Fri, 4 Aug 2017 20:00:49 -0700","message-id":"<CAEJ2LrMzc3iQ+Nw7C1OhyzUjmtb42BCbXk33xvWOQHSQLpgBUg@mail.gmail.com>","subject":"Hit Send to Turn off Confirmation Emails","to":"a+notifications.off+u.2+remind+d62199@staging1.gopher.email","content-type":"multipart/alternative; boundary=\\"001a1141387c59bbbe0555f8d30c\\"","x-ses-dkim-verdict":"pass","x-ses-spf-verdict":"pass","type":"email"}}}',
  isOffline: true }

  // reployto example whose signature is not recognized...
  // onAction replyto action address
  // module.exports.onAction = { headers:
  //  { Host: 'reminder.ngrok.io',
  //    'X-FUT-Timestamp': '1501915170',
  //    'X-FUT-Signature': '473944ffa69e1ab6bc2cd490eacf297cc35a36ed0de4e52ca4935b2ea4431765',
  //    'Content-Type': 'application/json',
  //    'User-Agent': 'Guzzle/3.9.3 curl/7.40.0 PHP/5.6.25',
  //    'Content-Length': 8172,
  //    'X-Forwarded-For': '52.54.164.46' },
  // path: '/onAction',
  // pathParameters: null,
  // requestContext:
  //  { accountId: 'offlineContext_accountId',
  //    resourceId: 'offlineContext_resourceId',
  //    apiId: 'offlineContext_apiId',
  //    stage: 'dev',
  //    requestId: 'offlineContext_requestId_',
  //    identity:
  //     { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
  //       accountId: 'offlineContext_accountId',
  //       cognitoIdentityId: 'offlineContext_cognitoIdentityId',
  //       caller: 'offlineContext_caller',
  //       apiKey: 'offlineContext_apiKey',
  //       sourceIp: '127.0.0.1',
  //       cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
  //       cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
  //       userArn: 'offlineContext_userArn',
  //       userAgent: 'Guzzle/3.9.3 curl/7.40.0 PHP/5.6.25',
  //       user: 'offlineContext_user' },
  //    authorizer: { principalId: 'offlineContext_authorizer_principalId' },
  //    resourcePath: '/onAction',
  //    httpMethod: 'POST' },
  // resource: '/onAction',
  // httpMethod: 'POST',
  // queryStringParameters: null,
  // stageVariables: null,
  // body: '{"webhook":{"name":"onAction","timestamp":1501915170},"extension":{"private_data":{"fut_access_token":"74b2c67fdadcf156343d2eeede989628428b6e95","confirmations_off":1,"default_command":"remind.me.1day","some_new_key":"value"}},"user":{"email":"esweetland@gmail.com","name":"Reilly Sweetland","timezone":"America/Los_Angeles","preferred_date_format":"D, F jS Y g:ia T","confirmations":true,"postponeTimes":["1h","2h","3h-r","4h-r","5h-r","1h-sms","1h-en+tag2","1h-en+newTag"],"defaultDailyReminderTime":"6","disableMailtoLinks":false},"task":null,"action_data":{"action":"check.data","subject":"Re: Email Action","body":"<div dir=\\"ltr\\"><br></div><div class=\\"gmail_extra\\"><br><div class=\\"gmail_quote\\">On Fri, Aug 4, 2017 at 11:36 PM, Staging1 FollowUpThen <span dir=\\"ltr\\">&lt;<a href=\\"mailto:noreply@staging1.fut.io\\" target=\\"_blank\\">noreply@staging1.fut.io</a>&gt;</span> wrote:<br><blockquote class=\\"gmail_quote\\" style=\\"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex\\"><div class=\\"HOEnZb\\"><div class=\\"h5\\"><u></u>\\n\\n\\n    \\n    \\n    \\n    \\n\\n\\n<div bgcolor=\\"#ffffff\\" marginwidth=\\"0\\" marginheight=\\"0\\" style=\\"width:100%!important;margin:0;padding:0\\">\\n<table id=\\"m_-4403856459337665399fut\\" border=\\"0\\" width=\\"100%\\" height=\\"100%\\" cellpadding=\\"0\\" cellspacing=\\"0\\" bgcolor=\\"#ffffff\\" style=\\"border-left-width:7px;border-left-style:solid;border-left-color:#0099cc\\">\\n  <tbody><tr>\\n    <td align=\\"left\\" valign=\\"top\\" bgcolor=\\"#ffffff\\" class=\\"m_-4403856459337665399inner_container\\" style=\\"padding-left:8px\\">\\n\\n                    <a class=\\"m_-4403856459337665399logo\\" href=\\"http://staging1.www.gopher.email/\\" style=\\"font-family:&#39;Helvetica Neue&#39;,Helvetica,Arial;margin:0;padding:0\\" target=\\"_blank\\"><img src=\\"http://staging1.www.gopher.email/assets/followupthen.png\\" class=\\"m_-4403856459337665399logo\\" height=\\"25\\" border=\\"0\\" style=\\"margin:0;padding:4px 0 0;border:0\\"></a>\\n        \\n        \\n\\n\\n<h1 style=\\"font-size:19px;margin:0;color:#404040;padding:5px 5px 5px 4px;font-weight:normal\\">Settings Saved</h1><p style=\\"font-family:&#39;Helvetica Neue&#39;,Helvetica,Arial;font-size:13px;line-height:16px;color:#111111;margin:0;padding:0 5px 0 4px\\"></p><p>Confirmations are turned off. You can turn them off via this command&#39;s settings page.</p><p></p><br><table align=\\"left\\" cellspacing=\\"2\\" border=\\"0\\"><tbody><tr><td><a style=\\"background-color:#f1f1f1;color:#666666;border-radius:4px;text-transform:uppercase;border:8px solid #f1f1f1;text-decoration:none;font-size:12px;font-weight:normal;font-family:&#39;Helvetica Neue&#39;,Helvetica,Arial,sans-serif;text-align:center;white-space:nowrap;line-height:34px;display:inline\\" href=\\"http://reminder.ngrok.io\\" target=\\"_blank\\">Link To Website</a></td></tr></tbody></table><p style=\\"font-family:&#39;Helvetica Neue&#39;,Helvetica,Arial;font-size:13px;line-height:16px;color:#111111;margin:0;padding:0 5px 0 4px\\"></p><table width=\\"100%\\"><tbody><tr><td> </td></tr></tbody></table><p></p><br>\\n\\n\\n<p class=\\"m_-4403856459337665399footer\\" style=\\"color:#111111;font-size:13px;line-height:16px;font-family:&#39;Helvetica Neue&#39;,Helvetica,Arial;margin:0;padding:12px 5px 10px 4px\\">\\n\\t<a class=\\"m_-4403856459337665399grey\\" href=\\"http://www.twitter.com/followupthen\\" style=\\"color:#aaaaaa;text-decoration:none;font-family:&#39;Helvetica Neue&#39;,Helvetica,Arial;margin:0;padding:0\\" target=\\"_blank\\">@followupthen</a> • <a class=\\"m_-4403856459337665399grey\\" href=\\"http://help.followupthen.com\\" style=\\"color:#aaaaaa;text-decoration:none;font-family:&#39;Helvetica Neue&#39;,Helvetica,Arial;margin:0;padding:0\\" target=\\"_blank\\">Help</a> • <a class=\\"m_-4403856459337665399grey\\" href=\\"http://help.followupthen.com/knowledge-base/abuse\\" style=\\"color:#aaaaaa;text-decoration:none;font-family:&#39;Helvetica Neue&#39;,Helvetica,Arial;margin:0;padding:0\\" target=\\"_blank\\">Didn&#39;t request this?</a>\\n</p>\\n\\n    </td>\\n  </tr>\\n</tbody></table>\\n\\n\\n</div>\\n\\n<img src=\\"http://staging1.www.gopher.email/tracker?id=7272&amp;hash=d277291a9e8d071b6f210605e038b00b\\" width=\\"1\\" height=\\"1\\" border=\\"0\\">\\n</div></div></blockquote></div><br></div>\\n","source":{"return-path":"<esweetland@gmail.com>","received":["from mail-pg0-f67.google.com (mail-pg0-f67.google.com [74.125.83.67]) by inbound-smtp.us-east-1.amazonaws.com with SMTP id 5s919j2bvj8rm5lsfam86cksitr1eafslkkrn181 for a+check.data+u.2+remind+3e8521@staging1.gopher.email; Sat, 05 Aug 2017 06:38:56 +0000 (UTC)","by mail-pg0-f67.google.com with SMTP id u185so3698954pgb.0 for <a+check.data+u.2+remind+3e8521@staging1.gopher.email>; Fri, 04 Aug 2017 23:38:56 -0700 (PDT)","by 10.100.169.77 with HTTP; Fri, 4 Aug 2017 23:38:34 -0700 (PDT)"],"x-ses-spam-verdict":"pass","x-ses-virus-verdict":"pass","received-spf":"pass (spfCheck: domain of _spf.google.com designates 74.125.83.67 as permitted sender) client-ip=74.125.83.67; envelope-from=esweetland@gmail.com; helo=mail-pg0-f67.google.com;","authentication-results":"amazonses.com; spf=pass (spfCheck: domain of _spf.google.com designates 74.125.83.67 as permitted sender) client-ip=74.125.83.67; envelope-from=esweetland@gmail.com; helo=mail-pg0-f67.google.com; dkim=pass header.i=@gmail.com;","x-ses-receipt":"AEFBQUFBQUFBQUFHUEJ5Z1Z1YTEzODF3T01rZHFuVU1GQzV6UkJhTTdzQVJKcHo0UnRnRzBYK1RoeHBHY2g2U1FiRUgzSXJudVQrUzlHa0t4NW4xWnlWL1ZZMC9sYURReFRhTjNvOU45SVMxNU9SUHlpYmNvZUhlc1lIMTRXSktDRlRiZHZMZEd2a09NcVRyaXBlWk5RNkdwL09qUjdoSHA5R3BhTGVQdmdLMnBhRVJIV3J3c3lJNlRReitJS003U3FEOHg4c2E4dlhaUmJEQ1FVQUlUM1o3Njd1dDl1NURFN1VnUkJTamw4c1gzTWFSODFVT051VmlYUWtpSEVRS2tCd2FmRjFqdmdrdWtVNlhJKy9YbWw5M2wzdGd3QWZQRg==","x-ses-dkim-signature":"v=1; a=rsa-sha256; q=dns/txt; c=relaxed/simple; s=224i4yxa5dv7c2xz3womw6peuasteono; d=amazonses.com; t=1501915136; h=X-SES-RECEIPT:MIME-Version:From:Date:Message-ID:Subject:To:Content-Type; bh=vokZUU7805TkaiW9guN/LYXgk5yfM0/t3rGeXNjSImM=; b=LF44cTUpNlJXoKlg/J8mhuyd5/rq1ZY20NDB2IzYhzxdp9bdabDKemVzAC1KH/gS mhSdKh4gIvK7sOo/CJFPZivdmutuKJfPjchCNUfdHXzSpESybbIrAY2G6oMx5tF5TfV JfGI2IIVuEhVOrpZKMnx8xpcbio1lu8hUrrblwME=","dkim-signature":"v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025; h=mime-version:reply-to:in-reply-to:references:from:date:message-id :subject:to; bh=VUwcJBiUxnEyWvQndy0s4QdLmEZr9e4YvBM9JbsGVRE=; b=pOFYrDvTi6FlEWmKjR57+B2PKxg7Zo4d8D0NR34VsAXyvJ1cnseNCpRyl2GGd8Ak2O VOyJH2qy+vH4rKdG6RjIA7IMcrB3/iI/fmVBaMQCkVtzdNfz00virGngEoNbE/CP26G9 O6Eecrd5pXev12G2nIsw9jmBGGsmSAV5OQ4LhzG5uGeDkHximJnRs4i0wdazmOhXC3Nn 9OSif1HR/d5USMZatJGkGN0eBZcOBEG+csAKmokYjafmCZE3D6zFb60ON9wRVT1YZdjR b+k6mHEQLoZZulECnzcrdh+VSsclVmxKGiQRmItTjkKTCp6UIlrCIwMYAhDkB8BqvDbk SZ5A==","x-google-dkim-signature":"v=1; a=rsa-sha256; c=relaxed/relaxed; d=1e100.net; s=20161025; h=x-gm-message-state:mime-version:reply-to:in-reply-to:references :from:date:message-id:subject:to; bh=VUwcJBiUxnEyWvQndy0s4QdLmEZr9e4YvBM9JbsGVRE=; b=RRF4z4OEKAOPTX3gYaUOv7hZuZMs/HqGMJBAn5rRm9YiFIVjVxXasjsEplr0+7JErR 130bz0w0AbZDPfn5GQ+nlZ4MUt/CLBTfVRXZjeFtR8kgIexrY7tb3tYDVGaqprUoIwSb 1A9jTxDubUg2aXhzSxUq+IcElSHWyQeKnbG/YPrMG12YelH1UNaaNXP2bBYpLFHMuQsd e004nMuKYUEUCs5TyqS5t0qn7NMS2ZmRCVVUinXcFGRyDiTG3Wrs0opX9sC68AAsiLee 8+hfLJw+FtW3rb8jseSE2ZVyV3ICD5L9dPj6G0b1S4+LV82589WQpbeZppxvpNxv4z4E LakA==","x-gm-message-state":"AIVw112z1WFF+tachN3kmuH70NeY9f1Y+e20blkqhlLNIbSicyV0ldtM IQMyEG4bjjSAi8dLM7hq0pufQgTrvgpY","x-received":"by 10.98.19.138 with SMTP id 10mr5066751pft.87.1501915135355; Fri, 04 Aug 2017 23:38:55 -0700 (PDT)","mime-version":"1.0","reply-to":"esweetland@gmail.com","in-reply-to":"<0100015db11c0833-78cb4103-ea77-4232-b256-47bfa8d33bd4-000000@email.amazonses.com>","references":"<0100015db11c0833-78cb4103-ea77-4232-b256-47bfa8d33bd4-000000@email.amazonses.com>","from":"Reilly Sweetland <esweetland@gmail.com>","date":"Fri, 4 Aug 2017 23:38:34 -0700","message-id":"<CAEJ2LrO6Gh3iqD-F7z7n+_CGL=3RBP_E5q1-BghHx4SFWTJSYw@mail.gmail.com>","subject":"Re: Email Action","to":"a+check.data+u.2+remind+3e8521@staging1.gopher.email","content-type":"multipart/alternative; boundary=\\"001a1145965c2030d20555fbdea6\\"","x-ses-dkim-verdict":"pass","x-ses-spf-verdict":"pass","type":"email"}}}',
  // isOffline: true }


// WORKING Reployto Action
  // module.exports.onAction = { headers:
  //  { Host: 'reminder.ngrok.io',
  //    'X-FUT-Timestamp': '1501978057',
  //    'X-FUT-Signature': 'ba816d05f36948ae7d424a79c858aafe59f187b7a630dcbfe47f899ba1450c63',
  //    'Content-Type': 'application/json',
  //    'User-Agent': 'Guzzle/3.9.3 curl/7.40.0 PHP/5.6.25',
  //    'Content-Length': 7595,
  //    'X-Forwarded-For': '34.229.166.166' },
  // path: '/onAction',
  // pathParameters: null,
  // requestContext:
  //  { accountId: 'offlineContext_accountId',
  //    resourceId: 'offlineContext_resourceId',
  //    apiId: 'offlineContext_apiId',
  //    stage: 'dev',
  //    requestId: 'offlineContext_requestId_',
  //    identity:
  //     { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
  //       accountId: 'offlineContext_accountId',
  //       cognitoIdentityId: 'offlineContext_cognitoIdentityId',
  //       caller: 'offlineContext_caller',
  //       apiKey: 'offlineContext_apiKey',
  //       sourceIp: '127.0.0.1',
  //       cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
  //       cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
  //       userArn: 'offlineContext_userArn',
  //       userAgent: 'Guzzle/3.9.3 curl/7.40.0 PHP/5.6.25',
  //       user: 'offlineContext_user' },
  //    authorizer: { principalId: 'offlineContext_authorizer_principalId' },
  //    resourcePath: '/onAction',
  //    httpMethod: 'POST' },
  // resource: '/onAction',
  // httpMethod: 'POST',
  // queryStringParameters: null,
  // stageVariables: null,
  // body: '{"webhook":{"name":"onAction","timestamp":1501978057},"extension":{"private_data":{"fut_access_token":"74b2c67fdadcf156343d2eeede989628428b6e95","confirmations_off":1,"default_command":"remind.me.1day","some_new_key":"value"}},"user":{"email":"esweetland@gmail.com","name":"Reilly Sweetland","timezone":"America/Los_Angeles","preferred_date_format":"D, F jS Y g:ia T","confirmations":true,"postponeTimes":["1h","2h","3h-r","4h-r","5h-r","1h-sms","1h-en+tag2","1h-en+newTag"],"defaultDailyReminderTime":"6","disableMailtoLinks":false},"task":null,"action_data":{"action":"custom.1234","subject":"Re: Gopher followup scheduled for Sat, August 5th 2017 5:06pm PDT","body":"<div dir=\\"ltr\\"><br></div><div class=\\"gmail_extra\\"><br><div class=\\"gmail_quote\\">On Sat, Aug 5, 2017 at 5:06 PM, Staging1 FollowUpThen <span dir=\\"ltr\\">&lt;<a href=\\"mailto:noreply@staging1.fut.io\\" target=\\"_blank\\">noreply@staging1.fut.io</a>&gt;</span> wrote:<br><blockquote class=\\"gmail_quote\\" style=\\"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex\\"><u></u>\\n\\n\\n    \\n    \\n    \\n    \\n\\n\\n<div bgcolor=\\"#ffffff\\" marginwidth=\\"0\\" marginheight=\\"0\\" style=\\"width:100%!important;margin:0;padding:0\\">\\n<table id=\\"m_1252236838135967864fut\\" border=\\"0\\" width=\\"100%\\" height=\\"100%\\" cellpadding=\\"0\\" cellspacing=\\"0\\" bgcolor=\\"#ffffff\\" style=\\"border-left-width:7px;border-left-style:solid;border-left-color:#0099cc\\">\\n  <tbody><tr>\\n    <td align=\\"left\\" valign=\\"top\\" bgcolor=\\"#ffffff\\" class=\\"m_1252236838135967864inner_container\\" style=\\"padding-left:8px\\">\\n\\n                    <a class=\\"m_1252236838135967864logo\\" href=\\"http://staging1.www.fut.io/\\" style=\\"font-family:&#39;Helvetica Neue&#39;,Helvetica,Arial;margin:0;padding:0\\" target=\\"_blank\\"><img src=\\"http://staging1.www.fut.io/assets/logo_gopher.png\\" class=\\"m_1252236838135967864logo\\" height=\\"25\\" border=\\"0\\" style=\\"margin:0;padding:4px 0 0;border:0\\"></a>\\n        \\n        \\n\\n\\n<table align=\\"left\\" cellspacing=\\"2\\" border=\\"0\\"><tbody><tr><td><a style=\\"background-color:#f1f1f1;color:#666666;border-radius:4px;text-transform:uppercase;border:8px solid #f1f1f1;text-decoration:none;font-size:12px;font-weight:normal;font-family:&#39;Helvetica Neue&#39;,Helvetica,Arial,sans-serif;text-align:center;white-space:nowrap;line-height:34px;display:inline\\" href=\\"mailto:a+postpone.1600.1mo+u.2+remind+bfecaf@staging1.gopher.email?subject=Hit+Send+to+Postpone&amp;body=This+is+an+email-action.+The+email+address+tell+us+what+to+do\\" target=\\"_blank\\">Action Email: Turn off these Confirmations</a></td></tr></tbody></table>\\n\\n\\n<br>\\n<p class=\\"m_1252236838135967864footer\\" style=\\"border-top-width:1px;border-top-color:#efefef;border-top-style:solid;border-bottom-width:1px;border-bottom-color:#efefef;border-bottom-style:solid;color:#111111;font-size:13px;line-height:16px;font-family:&#39;Helvetica Neue&#39;,Helvetica,Arial;margin:0;padding:12px 10px 10px\\">\\n    Gopher helps you get anything done without leaving your inbox. <br>This a beta release; we would love your feedback! <a class=\\"m_1252236838135967864grey\\" href=\\"mailto:help@humans.fut.io?subject=Help%20with%20Gopher\\" style=\\"color:#aaaaaa;text-decoration:none;font-family:&#39;Helvetica Neue&#39;,Helvetica,Arial;margin:0;padding:0\\" target=\\"_blank\\">What do you think?</a>\\n</p>\\n\\n    </td>\\n  </tr>\\n</tbody></table>\\n\\n\\n</div>\\n\\n<img src=\\"http://staging1.www.fut.io/tracker?id=7344&amp;hash=37889d25746a3057615c351840500e3d\\" width=\\"1\\" height=\\"1\\" border=\\"0\\">\\n</blockquote></div><br></div>\\n","source":{"return-path":"<esweetland@gmail.com>","received":["from mail-pf0-f177.google.com (mail-pf0-f177.google.com [209.85.192.177]) by inbound-smtp.us-east-1.amazonaws.com with SMTP id 3ak75jpuolasopfdfn8ma5afhlm0qdh3c52ddq01 for a+custom.1234+u.2+remind+31d056@staging1.gopher.email; Sun, 06 Aug 2017 00:07:35 +0000 (UTC)","by mail-pf0-f177.google.com with SMTP id t86so20755308pfe.2 for <a+custom.1234+u.2+remind+31d056@staging1.gopher.email>; Sat, 05 Aug 2017 17:07:35 -0700 (PDT)","by 10.100.143.205 with HTTP; Sat, 5 Aug 2017 17:07:13 -0700 (PDT)"],"x-ses-spam-verdict":"pass","x-ses-virus-verdict":"pass","received-spf":"pass (spfCheck: domain of _spf.google.com designates 209.85.192.177 as permitted sender) client-ip=209.85.192.177; envelope-from=esweetland@gmail.com; helo=mail-pf0-f177.google.com;","authentication-results":"amazonses.com; spf=pass (spfCheck: domain of _spf.google.com designates 209.85.192.177 as permitted sender) client-ip=209.85.192.177; envelope-from=esweetland@gmail.com; helo=mail-pf0-f177.google.com; dkim=pass header.i=@gmail.com;","x-ses-receipt":"AEFBQUFBQUFBQUFFdUNZNk8rUGY3QkU4L0JCUWl5NlFLNVQraUtwZ2EzZnNRVUljSHpSWVpGdHIyUjJPTWVza3BzcmJGc2Fzcmxkb3RaZnBiVTN2ZTA2azAzZTdHU215TU5ka2hKVlJ5RzJIRGpHMnRQMHhPRjkyZkVOQkQ4QnI2Z2xYZ3ZLMlhFZjcwZ0xndnNLUjRSOVZqS3ViSS9DUW5oMVp0alJPUVlTWDhMSENBdklvZFlvU21DVkdHVFlzS0JXTWdxRmZvSEdaSXN4Z1d3QWRJZ3F2UzRJR1BOeUJzdHpuU1A4a09XOERxZFRRUEE0QlFWZFE1UlRuaVJZZ3V4WlpyMGF2bkFsTUtOeVhTdzVtKzVUK0FaRFMvSzJZNA==","x-ses-dkim-signature":"v=1; a=rsa-sha256; q=dns/txt; c=relaxed/simple; s=224i4yxa5dv7c2xz3womw6peuasteono; d=amazonses.com; t=1501978055; h=X-SES-RECEIPT:MIME-Version:From:Date:Message-ID:Subject:To:Content-Type; bh=VvHj3gGnuPEKQFVIUWgF4Hga+VbbNHUBtcFG+IGCFvs=; b=gRVk4i/+9O14hLLKMY5V/8oOFRfaXN2Dl5YdmRtXEAcauGR+CPj0Jjgs5PzMg0yt 59sTK7SMjifxQGqdgOxLfztWwPfXa7Oae3gW+sgcsi42zPK10vSw8yRjPX6zjoKZT4A USWNVn8/V9j1CwdPqTCtgWbKBy7MdgF0soehDXwo=","dkim-signature":"v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025; h=mime-version:reply-to:in-reply-to:references:from:date:message-id :subject:to; bh=u9u+bpaLSto1CxqNDSRi8jrqr+dI3NTSsad8UvgAqqs=; b=RLdAbRR/h8iICh93SxiTUP4wcI48/smRhVaZFbBgLwi0mWP5un5Nm6TGi9FLXxqdlE dqyqdW03krHgU4lGRrIqsC5FVjfkJ8UOs5KTGy85MaPAVhPFXB5sQoh7W2cvGw5Q0Kt4 ahV+6azB/74VK+ZQgKYY8BY1i31giJzkv6RBI8tJWQ7c6mnlqxusjj1aZqJxer3vTF88 VoiNxZtZPSr9CIz+g9sZWXeYxQuwtnHqIqY1tW7HsVaq8M5B3JreULqfJ2nJG5nB0F0U MHutoAGW26TD7OI2K5u2b6Wfd0ssMojQmFaAANu2bmqGwE/NgOJXkNteaZrw35rnQv5z wFpQ==","x-google-dkim-signature":"v=1; a=rsa-sha256; c=relaxed/relaxed; d=1e100.net; s=20161025; h=x-gm-message-state:mime-version:reply-to:in-reply-to:references :from:date:message-id:subject:to; bh=u9u+bpaLSto1CxqNDSRi8jrqr+dI3NTSsad8UvgAqqs=; b=DZ6/l57GaVQH6tbgCDrb8TYVDYY8hKMU7cH4xyDR+L9dqiNz/pcCJYJjkWN57isDzo MKRQ1CpNmXMexO7+YpdVTYFTOyf2YOI6X2JyJMVtOxxucgpf1i/C3lk0tanWTOYxrlof 9/iPb4cXGA5sl2btyR4p2MylhTBgcl27fhB+OHO+7mj7W6H9MW58DgLVsnSisgxYaXLA 0VgHQ/96Afi1HjsKRYtl042f+FvlflyXJo4iEk5+55tznbGuKfOSx8TEnfVECq0iJc5N yMV/4wu4/faPclgm1EE/BEP7PHr9viW24/pWQQtMXalAavJWiSOfXpDUvRANDKaX9b+E v43Q==","x-gm-message-state":"AIVw110FN+4vdq1DzMZXq8Y7kjOvp67R1I/wK7/cS6W1Jz7vUMmvGl0z 35icE1bSX9owD8j9v2//t11PeqTx4i7R","x-received":"by 10.84.239.22 with SMTP id w22mr8447264plk.90.1501978054205; Sat, 05 Aug 2017 17:07:34 -0700 (PDT)","mime-version":"1.0","reply-to":"esweetland@gmail.com","in-reply-to":"<0100015db4dd1457-155b82ca-03a5-4bcf-a62b-ac8ba4e063a1-000000@email.amazonses.com>","references":"<0100015db4dd1457-155b82ca-03a5-4bcf-a62b-ac8ba4e063a1-000000@email.amazonses.com>","from":"Reilly Sweetland <esweetland@gmail.com>","date":"Sat, 5 Aug 2017 17:07:13 -0700","message-id":"<CAEJ2LrOxsXDqZdXn_ND9FsqSaWTZjB+Fbj8PBxUV=jT5vpYrnw@mail.gmail.com>","subject":"Re: Gopher followup scheduled for Sat, August 5th 2017 5:06pm PDT","to":"a+custom.1234+u.2+remind+31d056@staging1.gopher.email","content-type":"multipart/alternative; boundary=\\"94eb2c1cf44a61a44705560a8490\\"","x-ses-dkim-verdict":"pass","x-ses-spf-verdict":"pass","type":"email"}}}',
  // isOffline: true };

  // module.exports.onAction = { headers:
  //  { Host: 'reminder.ngrok.io',
  //    'X-FUT-Timestamp': '1501979698',
  //    'X-FUT-Signature': 'ee52a09edaeb77462a335195589615317446f2850aeee06d8a46d702897c7f58',
  //    'Content-Type': 'application/json',
  //    'User-Agent': 'Guzzle/3.9.3 curl/7.40.0 PHP/5.6.25',
  //    'Content-Length': 5146,
  //    'X-Forwarded-For': '34.229.166.166' },
  // path: '/onAction',
  // pathParameters: null,
  // requestContext:
  //  { accountId: 'offlineContext_accountId',
  //    resourceId: 'offlineContext_resourceId',
  //    apiId: 'offlineContext_apiId',
  //    stage: 'dev',
  //    requestId: 'offlineContext_requestId_',
  //    identity:
  //     { cognitoIdentityPoolId: 'offlineContext_cognitoIdentityPoolId',
  //       accountId: 'offlineContext_accountId',
  //       cognitoIdentityId: 'offlineContext_cognitoIdentityId',
  //       caller: 'offlineContext_caller',
  //       apiKey: 'offlineContext_apiKey',
  //       sourceIp: '127.0.0.1',
  //       cognitoAuthenticationType: 'offlineContext_cognitoAuthenticationType',
  //       cognitoAuthenticationProvider: 'offlineContext_cognitoAuthenticationProvider',
  //       userArn: 'offlineContext_userArn',
  //       userAgent: 'Guzzle/3.9.3 curl/7.40.0 PHP/5.6.25',
  //       user: 'offlineContext_user' },
  //    authorizer: { principalId: 'offlineContext_authorizer_principalId' },
  //    resourcePath: '/onAction',
  //    httpMethod: 'POST' },
  // resource: '/onAction',
  // httpMethod: 'POST',
  // queryStringParameters: null,
  // stageVariables: null,
  // body: '{"webhook":{"name":"onAction","timestamp":1501979698},"user":{"email":"esweetland@gmail.com","name":"Reilly Sweetland","timezone":"America/Los_Angeles","preferred_date_format":"D, F jS Y g:ia T","confirmations":true,"postponeTimes":["1h","2h","3h-r","4h-r","5h-r","1h-sms","1h-en+tag2","1h-en+newTag"],"defaultDailyReminderTime":"6","disableMailtoLinks":false},"followup":{"valid":true,"created":1501979633,"timezone":"America/Los_Angeles","created_friendly":"Sat, August 5th 2017 5:33pm PDT","due":1501979634,"due_friendly":"Sat, August 5th 2017 5:33pm PDT","format":"1sec-remind+me+1sec","completed":true,"completed_on":1501979641,"completed_on_friendly":"Sat, August 5th 2017 5:34pm PDT","tags":["me","1sec"],"suffix_flags":["remind"],"extensions":{"sms":false,"task":false,"recurring":false,"response_detection":false},"user_date_format":"12h","followup_id":"1621","source":{"type":"email","subject":"Testing remind 1 sec","body":"<div dir=\\"ltr\\"><br /></div><br />","body_text":"    ","from":"esweetland@gmail.com","external_recipients":[],"related_contacts":[],"email_method":"to"},"extension":{"followup_data":null}},"extension":{"private_data":{"fut_access_token":"74b2c67fdadcf156343d2eeede989628428b6e95","confirmations_off":1,"default_command":"remind.me.1day","some_new_key":"value"}},"action_data":{"action":"postpone.1day","subject":"Hit send to postpone","body":"<div dir=\\"ltr\\"><br></div>\\n","source":{"return-path":"<esweetland@gmail.com>","received":["from mail-pg0-f49.google.com (mail-pg0-f49.google.com [74.125.83.49]) by inbound-smtp.us-east-1.amazonaws.com with SMTP id hdt13mn9j4to74tdsq90jn6173crh0tvuh5tjpo1 for a+postpone.1day+t.1621+remind+f46874@staging1.gopher.email; Sun, 06 Aug 2017 00:34:56 +0000 (UTC)","by mail-pg0-f49.google.com with SMTP id u5so21014704pgn.0 for <a+postpone.1day+t.1621+remind+f46874@staging1.gopher.email>; Sat, 05 Aug 2017 17:34:55 -0700 (PDT)","by 10.100.143.205 with HTTP; Sat, 5 Aug 2017 17:34:34 -0700 (PDT)"],"x-ses-spam-verdict":"pass","x-ses-virus-verdict":"pass","received-spf":"pass (spfCheck: domain of _spf.google.com designates 74.125.83.49 as permitted sender) client-ip=74.125.83.49; envelope-from=esweetland@gmail.com; helo=mail-pg0-f49.google.com;","authentication-results":"amazonses.com; spf=pass (spfCheck: domain of _spf.google.com designates 74.125.83.49 as permitted sender) client-ip=74.125.83.49; envelope-from=esweetland@gmail.com; helo=mail-pg0-f49.google.com; dkim=pass header.i=@gmail.com;","x-ses-receipt":"AEFBQUFBQUFBQUFITXdzQXprUHh3TFFhMmdGSVhVZ3UyWllJTldIejU4MExVKzJyQUs1Zmx5d0xPRlU3YUtUeUQvZ0JkVVRiUWpHTytMRGRzSTJRMnp6VkJBbGZPTFVSK1JQKy9yTHBDTFdZejhkcktzcTZWcGxIbFBtckNUTnhiekJXci9xZFZLcENEZmZURlZLTVRvM0gvSUorSFh0eUZYclVyVzlmZmNzdENTU3JLYS9aVjhjRTZZSy9jOTZ1SjJFSGY4cnBxQno5ZEJIZ1ZQQmtiYkQ2VEE3NS82K0lwYXBqRmg4eHFtajNSUWgyKzRWdWEvNjVjTWNpYk5nbnU0TW54RGVVUU53SDhqcXdrV3R4Um5xWnNtNE9KalJUOA==","x-ses-dkim-signature":"v=1; a=rsa-sha256; q=dns/txt; c=relaxed/simple; s=224i4yxa5dv7c2xz3womw6peuasteono; d=amazonses.com; t=1501979696; h=X-SES-RECEIPT:MIME-Version:From:Date:Message-ID:Subject:To:Content-Type; bh=Y/6FXDjMGxzm9+Wf4z1DDtKLkshz1HK+RvQqjoko0xk=; b=OkePzovwj7KUoKqeuppz68cRt8fW93wf/XDhFIEE/Y/GzNngV/rtExsZy8AHsg+c 8jXdrZFfP1LbkrAtrRN+uv86rS+ahWSjUeWbGtIXb6HZ+2Q+/QK9PHg4oQeFXZ7/LvY OEg17Eb9GiKSeeSW6Mt2nXRVFlaxv/BEC6nJDcV8=","dkim-signature":"v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20161025; h=mime-version:reply-to:from:date:message-id:subject:to; bh=Y/6FXDjMGxzm9+Wf4z1DDtKLkshz1HK+RvQqjoko0xk=; b=Y++VQauL8fzjF/Emrlv6+VNGk89oMOKPWwsR7COhV1Aeho68A2W9t0IWrfahT7bvHL SWHO/5trGERYaG8qUEEj3Do5fBVj+7MywqxOECx2qJeKfMXCsMOtViFxxK5UBfL/AFv5 y2yiowjPANQdEN0K4QQHMfiMXQZ9kyDNK4adZSDglYD4fWACUnRg67Y+trbI4hCCsBYt nUOcdzwaK0h7Zw62N0qpE5r2jL0zLX44+AFJmidiPi7h/mCs0IzGVeATwKEWZN6HGZ5U AbsQof7KCkiv1MqcoASEoaIcfYpSeIl6nS4/RMJSN9RUT6zkBDBSa+SVUdVsPDP7Zeue QCnw==","x-google-dkim-signature":"v=1; a=rsa-sha256; c=relaxed/relaxed; d=1e100.net; s=20161025; h=x-gm-message-state:mime-version:reply-to:from:date:message-id :subject:to; bh=Y/6FXDjMGxzm9+Wf4z1DDtKLkshz1HK+RvQqjoko0xk=; b=eoiwGcb4w75t8S/S5X7Ch2FgVTaxdmf+v8LyQyYj2OPdDueRmHnBRaGFd7pdku8/5L Yum1kjClcUS/wnaC8YrGauNmdxZaDV8rMdi8x0LezsCeQQSmJw0dynXGAHZ8KWIXJXzU vxiIpbxnrJSMs8WbAAal5yQxVitZcHU5UpVg5qnm/jLp5ospIKCWeef5FRx+xVmmlCMl tNEF6eS0vQnFYIaHql+6uXvMVcqKTgI8e0gMVngrV8BcPy7buG7DdOJjMNBjb2pkv9rf c+S9ZtJeRe0GJ76I2YeI40cj2u+e0t68srPDqg+LsvHPYWiFvLGGbMu5S5kg+wwMm/oU HbJg==","x-gm-message-state":"AIVw113Mw+ziLul7mRFPhoN63olcZdQLJNEYwnwc6pxHoyC2yN/nM7sI pvem/A20WxHWtaNzJ0plQRLmA1EcgGA6","x-received":"by 10.98.27.206 with SMTP id b197mr7244980pfb.149.1501979694989; Sat, 05 Aug 2017 17:34:54 -0700 (PDT)","mime-version":"1.0","reply-to":"esweetland@gmail.com","from":"Reilly Sweetland <esweetland@gmail.com>","date":"Sat, 5 Aug 2017 17:34:34 -0700","message-id":"<CAEJ2LrOGd52NLDgyjO_63SFc=Ty=14O98Uk=kHY3Bou+UiGXkA@mail.gmail.com>","subject":"Hit send to postpone","to":"a+postpone.1day+t.1621+remind+f46874@staging1.gopher.email","content-type":"multipart/alternative; boundary=\\"94eb2c04bb2e2e072705560ae687\\"","x-ses-dkim-verdict":"pass","x-ses-spf-verdict":"pass","type":"email"}}}',
  // isOffline: true }